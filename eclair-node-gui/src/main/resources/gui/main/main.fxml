<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.SeparatorMenuItem?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Rectangle?>

<AnchorPane fx:id="root" minHeight="300.0" prefHeight="400.0" styleClass="root" xmlns="http://javafx.com/javafx/9" xmlns:fx="http://javafx.com/fxml/1">
    <children>
        <BorderPane AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
            <center>
                <TabPane tabClosingPolicy="UNAVAILABLE" BorderPane.alignment="CENTER">
                    <tabs>
                        <Tab fx:id="channelsTab" closable="false" text="Local Channels">
                            <content>
                                <StackPane>
                                    <children>
                                        <ScrollPane fitToWidth="true" styleClass="channel-container">
                                            <content>
                                                <VBox fx:id="channelBox" />
                                            </content>
                                        </ScrollPane>
                                        <VBox fx:id="channelInfo" alignment="TOP_CENTER" styleClass="channels-info">
                                            <children>
                                                <Label styleClass="text-strong" text="No channels opened yet..." />
                                                <Label styleClass="text-muted" text="You can open a new channel by clicking on &quot;Channels&quot; &gt; &quot;Open Channel...&quot;" wrapText="true" />
                                            </children>
                                        </VBox>
                                    </children>
                                </StackPane>
                            </content>
                        </Tab>
                        <Tab fx:id="networkNodesTab" closable="false" text="All Nodes">
                            <content>
                                <VBox spacing="10.0" styleClass="grid">
                                    <children>
                                        <TableView fx:id="networkNodesTable" minHeight="50.0" prefHeight="5000.0">
                                            <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
                                            <columns>
                                                <TableColumn fx:id="networkNodesRGBColumn" maxWidth="20.0" minWidth="20.0" prefWidth="20.0" sortable="false" text="" />
                                                <TableColumn fx:id="networkNodesAliasColumn" maxWidth="300.0" minWidth="80.0" prefWidth="180.0" text="Alias" />
                                                <TableColumn fx:id="networkNodesIdColumn" text="Node Id" />
                                                <TableColumn fx:id="networkNodesIPColumn" maxWidth="300.0" minWidth="150.0" prefWidth="250.0" text="IP" />
                                            </columns>
                                        </TableView>
                                    </children>
                                </VBox>
                            </content>
                        </Tab>
                        <Tab fx:id="networkChannelsTab" closable="false" text="All Channels">
                            <content>
                                <VBox spacing="10.0" styleClass="grid">
                                    <children>
                                        <TableView fx:id="networkChannelsTable" minHeight="50.0" prefHeight="5000.0">
                                            <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
                                            <columns>
                                                <TableColumn fx:id="networkChannelsIdColumn" maxWidth="300.0" minWidth="120.0" prefWidth="170.0" text="Short Channel Id" />
                                                <TableColumn fx:id="networkChannelsNode1Column" text="Node 1" />
                                                <TableColumn fx:id="networkChannelsDirectionsColumn" maxWidth="30.0" minWidth="30.0" prefWidth="30.0" />
                                                <TableColumn fx:id="networkChannelsNode2Column" text="Node 2" />
                                            </columns>
                                        </TableView>
                                    </children>
                                </VBox>
                            </content>
                        </Tab>
                        <Tab closable="false" text="Activity">
                            <content>
                                <AnchorPane>
                                    <children>
                                        <TabPane styleClass="activities-tab" tabClosingPolicy="UNAVAILABLE" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0" BorderPane.alignment="CENTER">
                                            <tabs>
                                                <Tab fx:id="paymentSentTab" closable="false" text="Sent">
                                                    <TableView fx:id="paymentSentTable" minHeight="50.0" prefHeight="5000.0">
                                                        <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
                                                        <columns>
                                                            <TableColumn fx:id="paymentSentDateColumn" maxWidth="150.0" minWidth="150.0" prefWidth="150.0" resizable="false" text="Date" />
                                                            <TableColumn fx:id="paymentSentAmountColumn" maxWidth="150.0" minWidth="150.0" prefWidth="150.0" resizable="false" styleClass="align-right" text="Amount (msat)" />
                                                            <TableColumn fx:id="paymentSentFeesColumn" maxWidth="150.0" minWidth="150.0" prefWidth="150.0" resizable="false" styleClass="align-right" text="Fees Paid (msat)" />
                                                            <TableColumn fx:id="paymentSentHashColumn" text="Payment Hash" />
                                                        </columns>
                                                    </TableView>
                                                </Tab>
                                                <Tab fx:id="paymentReceivedTab" closable="false" text="Received">
                                                    <TableView fx:id="paymentReceivedTable" minHeight="50.0" prefHeight="5000.0">
                                                        <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
                                                        <columns>
                                                            <TableColumn fx:id="paymentReceivedDateColumn" maxWidth="150.0" minWidth="150.0" prefWidth="150.0" resizable="false" text="Date" />
                                                            <TableColumn fx:id="paymentReceivedAmountColumn" maxWidth="150.0" minWidth="150.0" prefWidth="150.0" resizable="false" styleClass="align-right" text="Amount (msat)" />
                                                            <TableColumn fx:id="paymentReceivedHashColumn" text="Payment Hash" />
                                                        </columns>
                                                    </TableView>
                                                </Tab>
                                                <Tab fx:id="paymentRelayedTab" closable="false" text="Relayed">
                                                    <TableView fx:id="paymentRelayedTable" minHeight="50.0" prefHeight="5000.0">
                                                        <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
                                                        <columns>
                                                            <TableColumn fx:id="paymentRelayedDateColumn" maxWidth="150.0" minWidth="150.0" prefWidth="150.0" resizable="false" text="Date" />
                                                            <TableColumn fx:id="paymentRelayedAmountColumn" maxWidth="150.0" minWidth="150.0" prefWidth="150.0" resizable="false" styleClass="align-right" text="Amount (msat)" />
                                                            <TableColumn fx:id="paymentRelayedFeesColumn" maxWidth="150.0" minWidth="150.0" prefWidth="150.0" resizable="false" styleClass="align-right" text="Fees Earned (msat)" />
                                                            <TableColumn fx:id="paymentRelayedHashColumn" text="Payment Hash" />
                                                        </columns>
                                                    </TableView>
                                                </Tab>
                                            </tabs>
                                        </TabPane>
                                        <Label maxWidth="180.0" styleClass="activity-disclaimer" text="Payment history will be cleared when the node is shut down." textAlignment="RIGHT" wrapText="true" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0" />
                                    </children>
                                </AnchorPane>
                            </content>
                        </Tab>
                    </tabs>
                </TabPane>
            </center>
            <bottom>
                <HBox fx:id="statusBarBox" spacing="10" styleClass="status-bar">
                    <children>
                        <HBox alignment="CENTER_LEFT" onContextMenuRequested="#openNodeIdContext" HBox.hgrow="ALWAYS">
                            <children>
                                <ImageView fitHeight="16.0" fitWidth="27.0" opacity="0.52" pickOnBounds="true" preserveRatio="true">
                                    <image><Image url="@../commons/images/eclair-shape.png" /></image>
                                </ImageView>
                                <Label fx:id="labelNodeId" text="N/A" />
                            </children>
                        </HBox>
                        <HBox alignment="CENTER_LEFT" minWidth="80.0" HBox.hgrow="SOMETIMES">
                            <children>
                                <Separator orientation="VERTICAL" />
                                <Rectangle fx:id="rectRGB" fill="transparent" height="7" width="7" />
                                <Label fx:id="labelAlias" text="N/A" />
                            </children>
                        </HBox>
                        <HBox alignment="CENTER_LEFT" minWidth="85.0" HBox.hgrow="NEVER">
                            <children>
                                <Separator orientation="VERTICAL" />
                                <Label styleClass="badge, badge-http" text="HTTP" />
                                <Label fx:id="labelApi" styleClass="value" text="N/A" />
                            </children>
                        </HBox>
                        <HBox alignment="CENTER_LEFT" minWidth="85.0" HBox.hgrow="NEVER">
                            <children>
                                <Separator orientation="VERTICAL" />
                                <Label styleClass="badge, badge-tcp" text="TCP" />
                                <Label fx:id="labelServer" text="N/A" />
                            </children>
                        </HBox>
                        <HBox alignment="CENTER_LEFT" minWidth="6.0" HBox.hgrow="NEVER">
                            <children>
                                <Separator orientation="VERTICAL" />
                            </children>
                        </HBox>
                        <HBox alignment="CENTER_RIGHT" minWidth="195.0" HBox.hgrow="SOMETIMES">
                            <children>
                                <Label text="ATBcoin-core" textAlignment="RIGHT" textOverrun="CLIP" />
                                <Label fx:id="bitcoinVersion" text="N/A" textOverrun="CLIP" />
                                <Label fx:id="bitcoinChain" styleClass="chain" text="(N/A)" textOverrun="CLIP" />
                            </children>
                        </HBox>
                    </children>
                </HBox>
            </bottom>
            <top>
                <MenuBar BorderPane.alignment="CENTER">
                    <menus>
                        <Menu mnemonicParsing="false" text="Channels">
                            <items>
                                <MenuItem fx:id="menuOpen" mnemonicParsing="false" onAction="#handleOpenChannel" text="Open channel..." />
                                <SeparatorMenuItem mnemonicParsing="false" />
                                <MenuItem fx:id="menuSend" mnemonicParsing="false" onAction="#handleSendPayment" text="Send Payment..." />
                                <MenuItem fx:id="menuReceive" mnemonicParsing="false" onAction="#handleReceivePayment" text="Receive Payment..." />
                                <SeparatorMenuItem mnemonicParsing="false" />
                                <MenuItem mnemonicParsing="false" onAction="#handleCloseRequest" text="Close" />
                            </items>
                        </Menu>
                    </menus>
                </MenuBar>
            </top>
        </BorderPane>
        <StackPane fx:id="blocker" alignment="CENTER" opacity="0" styleClass="blocker-cover" visible="false" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
            <children>
                <HBox fx:id="blockerDialog" alignment="CENTER_LEFT" fillHeight="false" maxHeight="100.0" maxWidth="430.0" minHeight="100.0" minWidth="430.0" opacity="0" prefHeight="100.0" prefWidth="430.0" spacing="20" styleClass="blocker-dialog">
                    <children>
                        <ImageView fitHeight="40.0" fitWidth="40.0" pickOnBounds="true" preserveRatio="true">
                            <image>
                                <Image url="@../commons/images/connection_icon.png" />
                            </image>
                        </ImageView>
                        <VBox spacing="10.0" GridPane.columnIndex="1">
                            <children>
                                <Label fx:id="message" styleClass="text-strong" text="Lost connection to Bitcoin Core..." wrapText="true" />
                                <Label fx:id="details" text="Make sure that Bitcoin core is up and running." wrapText="true" />
                            </children>
                        </VBox>
                    </children>
                </HBox>
            </children>
        </StackPane>
    </children>
    <stylesheets>
        <URL value="@main.css" />
        <URL value="@../commons/globals.css" />
    </stylesheets>
</AnchorPane>
